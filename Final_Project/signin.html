<html>

<html>

<head>
<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Bootstrap demo</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-sRIl4kxILFvY47J16cr9ZwB07vP4J8+LH7qKQnuqkuIAvNWLzeN8tE5YBujZqJLB" crossorigin="anonymous">
  </head>
  <body>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js" integrity="sha384-FKyoEForCGlyvwx9Hj09JcYn3nv7wiPVlz7YYwJrWVcXK/BmnVDxM+D2scQbITxI" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script> <!--link supabase zy bootstrap w keda 3ala asas eno library  - mn supabase webside then docs then javascript
    3shan a3rf astkhdem ay built-in functions bt3to fl JS -->

  </body>
</html>
</head>

<body class="bg-body-tertiary mt-5 pt-5">
    <div id="navbar"></div>

    <div class="text d-flex justify-content-center align-items-center pt-5">
<h1>Login</h1>
</div>


<div class="inner m-5">
    <div class="mb-3 row">
  <label class="col-sm-2 col-form-label">Email</label>
  <div class="col-sm-10">
    <input type="email" class="form-control" id="email">
  </div>
</div>
<div class="mb-3 row">
  <label for="inputPassword" class="col-sm-2 col-form-label">Password</label>
  <div class="col-sm-10">
    <input type="password" class="form-control" id="inputPassword">
  </div>
</div>
</div>
</div>




<div class="btn d-flex justify-content-center align-items-center">

  <button  onclick="signIn()"  class=" bg-success p-3 rounded-5 w-25">Login</button>

</div>



<div id="msg"></div>





    <script>

const supabaseclient= supabase.createClient(


"https://eyenvepjdscszapilzdi.supabase.co", //3nwan el project
"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImV5ZW52ZXBqZHNjc3phcGlsemRpIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NzEzNTMzMTEsImV4cCI6MjA4NjkyOTMxMX0.UIjUXMi3VSEX6zBOpoasYCWHslSGADmyPMkQA0bQ4F4" // da zy el password 3shan ysma7 yt3amel m3 supabase

    )
async function signIn(){
msg= document.getElementById("msg")

let email=document.getElementById("email").value
let password=document.getElementById("inputPassword").value


const {data,error}= await supabaseclient.auth.signInWithPassword({


  email:email,
  password:password
})


if (error){
  msg.innerText=error.message


  if(error.message.includes("Invalid login credentials")){

  setTimeout(()=>{location.href="signup.html"},2000)
}
}
return;






msg.innerText="LoggedIn"
setTimeout(()=>{

  location.href="home.html"
},1000)


}





























// call el nav 
fetch("navbar.html")
.then(res=>res.text())
.then(html=>{
document.getElementById("navbar").innerHTML=html

})


 src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js" 
    src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/7.0.1/js/all.min.js"
    </script>
</body>
</html>